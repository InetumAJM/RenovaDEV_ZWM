FUNCTION zwm_debug_online.
*"----------------------------------------------------------------------
*"*"Interface local:
*"----------------------------------------------------------------------
  DATA: lt_zwm001 TYPE TABLE OF zwm001.

  DATA: ls_zwm001 TYPE zwm001.

  STATICS: lst_debug TYPE c.

** MODULO DE BREAK-POINT USAR TABELA ZWM001 PARA INDICAR MAIS USERS
** MODULO SÓ É VALIDADO UMA VEZ E FICA ACTIVO PARA TODA A SESSÃO
***********************************************************************
***********************************************************************
***********************************************************************

  DO 1 TIMES.
    CHECK lst_debug IS INITIAL.

    SELECT * FROM zwm001
       INTO TABLE lt_zwm001
            WHERE armazem  = '' AND
                  processo = 'DEBUG_ONLINE'.

    CHECK sy-subrc EQ 0.

    SORT lt_zwm001 BY parametro.

    READ TABLE lt_zwm001
          INTO ls_zwm001
          WITH KEY parametro = 'ON'
          BINARY SEARCH.

    CHECK ls_zwm001-valor EQ abap_true.


    LOOP AT lt_zwm001 INTO ls_zwm001.
      IF ls_zwm001-parametro(4) EQ 'USER' AND
         ls_zwm001-valor = sy-uname.
        lst_debug = '1'.
        EXIT.
      ENDIF.
    ENDLOOP.
  ENDDO.

  IF lst_debug <> '1'.
    lst_debug = '0'.
    EXIT.
  ENDIF.


***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************
***********************************************************************

  BREAK-POINT.
ENDFUNCTION.
